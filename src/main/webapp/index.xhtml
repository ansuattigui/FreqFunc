<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:composition template="/template.xhtml">        
        
        <ui:define name="title">
            <h:outputText value="#{bundle.AppName}"></h:outputText>
        </ui:define>
        
        <ui:define name="menuhor">
            <h:form id="menuForm">                
                <p:menubar>
                    <p:menuitem value="#{bundle.Home}" outcome="/index" icon="ui-icon-home"/>
                    <p:submenu label="#{bundle.Cadastro}">
                        <p:menuitem value="Divisão" outcome="/divisao/List" />
                        <p:menuitem value="Funcionário" outcome="/funcionario/List" />
                    </p:submenu>
                    <p:submenu label="#{bundle.Maintenance}">
                        <p:menuitem value="Movimento" outcome="/movimento/List" />
                    </p:submenu>
                    <p:submenu label="Relatórios">
                        <p:submenu label="Divisão">
                            <p:menuitem ajax="false"  value="Total" icon="ui-icon-arrowthick-1-s" outcome="/relatorios/divisao/divisao" />                                                                    
                        </p:submenu>
                        <p:submenu label="Movimento">
                            <p:menuitem ajax="false" value="Total"  icon="ui-icon-arrowthick-1-s" action="#{relatorioMovimento.setModelo(null)}" update="@all" />                            
                            <p:menuitem icon="ui-icon-search" value="Por Divisão" actionListener="#{divisaoController.prepareCreate}" oncomplete="PF('SeletorDivisaoMovimentoDialog').show()" />
                            <p:menuitem icon="ui-icon-search" value="Por Período" actionListener="#{relatorioMovimento.prepareCreate}" oncomplete="PF('SeletorPeriodoMovimentoDialog').show()" />
                        </p:submenu>
                    </p:submenu>                                        
                    <p:menuitem value="Logout" action="#{loginController.logout}" />
                </p:menubar>
            </h:form>
            
            <ui:include src="/relatorios/movimento/SeletorDivisao.xhtml" />
            <ui:include src="/relatorios/movimento/SeletorPeriodo.xhtml" />

        </ui:define>
                
        <ui:define name="center">                        
            <ui:insert name="body">
                <p:panel id="panel-centro" styleClass="ui-panel-centro"/>
            </ui:insert>            
        </ui:define>
                            
    </ui:composition>

</html>

